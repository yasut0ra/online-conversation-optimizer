<div
  class="grid gap-3"
  id="candidate-list"
  data-session-id="{{ session_id }}"
  data-turn-id="{{ turn_id }}"
  data-propensities='{{ propensities | tojson }}'
  data-scores='{{ scores | tojson }}'
>
  {% for candidate in candidates %}
  <div
    class="candidate-card rounded-md border border-slate-700 bg-slate-900 p-4 hover:border-indigo-500 cursor-pointer transition"
    data-index="{{ candidate.index }}"
    data-candidate='{{ candidate | tojson }}'
  >
    <div class="flex items-center justify-between text-sm text-slate-300">
      <span class="font-medium text-indigo-300">{{ candidate.style }}</span>
      <span>Score: {{ '{:.3f}'.format(candidate.score) }}</span>
    </div>
    <p class="mt-2 text-slate-100 whitespace-pre-line">{{ candidate.text }}</p>
    <div class="mt-3 flex flex-wrap gap-3 text-xs text-slate-400">
      <span>Propensity: {{ '{:.3f}'.format(candidate.propensity) }}</span>
      {% if candidate.safety_score is not none %}
      <span>Safety: {{ '{:.2f}'.format(candidate.safety_score) }}</span>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
